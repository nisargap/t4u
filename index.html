<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>there4u</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.1/semantic.min.css"/>
	<link href="styles/main.css" rel="stylesheet">

</head>
<body>
	<div class="ui container">
		<div class="ui ten wide column custom">
		<h1 class="brand">there4u</h1>
		<button id="getNext" class="ui right floated large black button custom-right">Next</button>
		<br><br>
		<h1 id="Loading"></h1>
		<div id="showTweet" class="ui padded raised segment">
			<!-- <h2>@nisargap</h2>
			<p class="tweet-text">
			My life is not going in the right direction.
			</p> -->
		</div>
		<h2 class="reply-style">Reply</h2>
		<div class="ui form">
			<div class="field">
  				<textarea class="custom-ta" rows="2"></textarea>
  			</div>

  			<div class="field">
  				<button class="ui massive green button">Respond</button>
  			</div>
		</div>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>

    	function getRandomTweet(){
    		$.get("http://52.88.105.123/getTweetId", function(data){


    			$("#Loading").html("<h3>Loading a tweet for you...</h3>");
    			console.log(data);
    			var url="https%3A%2F%2Ftwitter.com%2FInterior%2Fstatus%2F"+data.id_str;
    			$.ajax({
		            url: "https://api.twitter.com/1/statuses/oembed.json?url="+url,
		            dataType: "jsonp",
		            success: function(tweet_data){
		                
		                var author = tweet_data.author;
	    				var author_url = tweet_data.author_url;
	    				var tweet_url = tweet_data.url;

	    				var data_html = tweet_data.html;

	    				$("#showTweet").html(data_html);
	    				console.log("Worked!");
	    				$("#Loading").html("");
		            }
    			
    			});

    		});
    	}

    	$(document).ready(function(){
    		getRandomTweet();

    	});

    	var nextBtn = $("#getNext");

    	nextBtn.click(getRandomTweet);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>
</body>
</html>